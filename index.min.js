!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react-dom"),require("react-dom/test-utils")):"function"==typeof define&&define.amd?define(["exports","react-dom","react-dom/test-utils"],e):e((t=t||self).$={},t.ReactDOM,t.testUtils)}(this,(function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function t(){var e=isNaN(arguments[0])?1:Number(arguments[0]);return e?Array.prototype.reduce.call(this,(function(r,o){return Array.isArray(o)?r.push.apply(r,t.call(o,e-1)):r.push(o),r}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(t){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var o=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,r){if("production"===process.env.NODE_ENV)r.createRoot=e.createRoot,r.hydrateRoot=e.hydrateRoot;else{var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r.createRoot=function(t,r){o.usingClientEntryPoint=!0;try{return e.createRoot(t,r)}finally{o.usingClientEntryPoint=!1}},r.hydrateRoot=function(t,r,n){o.usingClientEntryPoint=!0;try{return e.hydrateRoot(t,r,n)}finally{o.usingClientEntryPoint=!1}}}})),n=o.createRoot;o.hydrateRoot;global.IS_REACT_ACT_ENVIRONMENT=!0;const s=t=>{const e=window.document.createElement("div");e.id="root",window.document.body.appendChild(e);const o=n(e);return r.act(()=>o.render(t)),[...e.childNodes]};var i=t=>t?["string","number","boolean"].includes(typeof t)||t.$$typeof?s(t):(Array.isArray(t)?t:[t]).filter(t=>"object"==typeof t):[],a=t=>{if(!t)throw new Error("expect() should receive an HTMLElement or React Test instance");if(t.$$typeof){t=i(t)[0]}return t.toArray&&(t=t.toArray()),Array.isArray(t)||(t=[t]),t.forEach(t=>{if(!t.nodeName)throw new Error("expect() should receive an HTMLElement or React Test instance")}),t},c=t=>t.cloneNode(!1).outerHTML.replace(/<\/[a-zA-Z0-9-]+>$/,"");const u=t=>`class${t.length>1?"es":""} "${t.join('", "')}"`;const l=t=>t.replace(/\s+/g," ");const f=t=>Object.entries(t).map(([t,e])=>{return`${r=t,r.replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1-$2").toLowerCase()}: ${e}`;var r}),p=t=>{let e=t.split("; ");return e[e.length-1]=e[e.length-1].replace(/;/g,""),e},h=t=>`style${t.length>1?"s":""} [${t.join(", ")}]`;expect.extend({toBeEnabled:function(t){this.affirmative=!this.isNot,t=a(t);for(let e of t){const t=c(e),r=!e.disabled;if(this.affirmative&&!r){const e=`Expected ${t} not to include the attribute "disabled"`;return{pass:!1,message:()=>e}}if(this.isNot&&r){const e=`Expected ${t} to include the attribute "disabled"`;return{pass:!0,message:()=>e}}}return{pass:!this.isNot}},toHaveAttribute:function(t,e,r){this.affirmative=!this.isNot,t=a(t);for(let o of t){const t=[...o.attributes],n=c(o),s=t.some(({name:t,value:o})=>e===t&&(r instanceof RegExp?r.test(o):"boolean"==typeof r?""===o:!r||o===r));let i="";if(r instanceof RegExp?i=" that matches "+r:r&&(i=`="${r}"`),this.affirmative&&!s){const t=`Expected ${n} to have attribute \`${e}\`${i}`;return{pass:!1,message:()=>t}}if(this.isNot&&s){const t=`Expected ${n} not to have attribute \`${e}\`${i}`;return{pass:!0,message:()=>t}}}return{pass:!this.isNot}},toHaveClass:function(t,...e){this.affirmative=!this.isNot,t=a(t);const r=e.flat();for(let e of t){const t=[...e.classList],o=c(e),n=r.filter(e=>t.includes(e)),s=r.filter(e=>!t.includes(e));if(this.affirmative&&n.length<r.length){const t=`Expected ${o} to include ${u(s)}`;return{pass:!1,message:()=>t}}if(this.isNot&&n.length){const t=`Expected ${o} not to include ${u(n)}`;return{pass:!0,message:()=>t}}}return{pass:!this.isNot}},toHaveHtml:function(t,e){this.affirmative=!this.isNot,t=a(t);for(let r of t){const t=c(r),o=r.outerHTML.includes(e.trim());if(this.affirmative&&!o){const r=`Expected ${t} to have \`${e}\``;return{pass:!1,message:()=>r}}if(this.isNot&&o){const r=`Expected ${t} not to have \`${e}\``;return{pass:!0,message:()=>r}}}return{pass:!this.isNot}},toHaveText:function(t,e){this.affirmative=!this.isNot,t=a(t);for(let r of t){const t=r.textContent,o=c(r);if(this.affirmative){if(l(t)!==l(e)){const r=`Expected ${o} to have text "${e}" but it received "${t}"`;return{pass:!1,message:()=>r}}}else if(l(t)===l(e)){const e=`Expected ${o} not to have the text "${t}"`;return{pass:!0,message:()=>e}}}return{pass:!this.isNot}},toHaveValue:function(t,e=!0){if(this.affirmative=!this.isNot,(t=a(t)).length>1)throw new Error("Cannot check multiple elements for values. Please pass only one element.");const r=t[0],o=r.tagName.toLowerCase();if("input"===o&&["checkbox","radio"].includes(r.type))throw new Error('Cannot check .toHaveValue() for input type="checkbox" or type="radio".');const n=c(r);let s=!1;if("input"===o)s="number"===r.type?Number(r.value)===e:r.value===e;else if("textarea"===o)s=r.value===e;else{if("select"!==o)throw new Error("Not a valid element that has a value attribute. Please insert an element that has a value.");{const t=[...r.options].find(t=>t.selected);if(t)s=!0===e||t.value===e;else{if(!e){const t=`Expected an option to be selected in ${n} (but none was)`;return{pass:!0,message:()=>t}}s=!1}}}if(this.affirmative&&!s){const t=`Expected ${n} to have value="${e}"`;return{pass:!1,message:()=>t}}if(this.isNot&&s){const t=`Expected ${n} not to have value=${e}`;return{pass:!0,message:()=>t}}return{pass:!this.isNot}},toMatchSelector:function(t,e){this.affirmative=!this.isNot,t=a(t);for(let r of t){const t=c(r),o=r.matches(e);if(this.affirmative&&!o){const r=`Expected ${t} to match selector, ${e}`;return{pass:!1,message:()=>r}}if(this.isNot&&o){const r=`Expected ${t} not to match selector, ${e}`;return{pass:!0,message:()=>r}}}return{pass:!this.isNot}},toHaveStyle:function(t,e){this.affirmative=!this.isNot,t=a(t);for(let r of t){const t=c(r),o=Object.entries(r.style._values).map(([t,e])=>`${t}: ${e}`);let n="string"==typeof e?p(e):f(e);if(this.affirmative){const e=n.filter(t=>!o.includes(t));if(e.length){const r=`Expected ${t} to include ${h(e)}`;return{pass:!1,message:()=>r}}}if(this.isNot){const e=n.filter(t=>o.includes(t));if(e.length){const r=`Expected ${t} not to include ${h(e)}`;return{pass:!0,message:()=>r}}}}return{pass:!this.isNot}}});const d=function(t,e={}){return this instanceof d?(this.events=e.events||{},window.addEventListener=(t,e)=>{this.events[t]=this.events[t]||[],this.events[t].push(e)},document.addEventListener=(t,e)=>{this.events[t]=this.events[t]||[],this.events[t].push(e)},this.nodes=i(t),this):new d(t,e)};d.prototype[Symbol.iterator]=function*(){for(let t of this.nodes)yield t},d.prototype.attr=function(t){const e=this.first();return e&&e.getAttribute(t)},d.prototype.change=function(t){return this.map(e=>{"INPUT"===e.nodeName&&["checkbox","radio"].includes(e.type)?e.checked=t:e.value=t}),this.trigger("change",{target:{value:t}})},d.prototype.click=function(){return this.trigger("click")},d.prototype.data=function(t){return this.attr("data-"+t)};d.prototype.delay=async function(t){await r.act(()=>(t=>new Promise(e=>setTimeout(e,t)))(t))},d.prototype.filter=function(t){return t?d(this.toArray().filter(e=>e.matches(t)),this):this},d.prototype.find=function(t){return t?this.map(e=>[...e.querySelectorAll(t)]):this},d.prototype.first=function(){return this.get(0)||null},d.prototype.get=function(t=0){const e=this.toArray();return t<0&&(t=e.length+t),e[t]},d.prototype.html=function(){const t=this.first();return t?t.outerHTML:""},d.prototype.is=function(t="*"){return this.toArray().some(e=>e.matches(t))},d.prototype.last=function(){return this.get(-1)||null},d.prototype.unique=function(){const t=[];return this.toArray().forEach(e=>{t.includes(e)||t.push(e)}),d(t,this)},d.prototype.map=function(t){return d(this.toArray().map(t).flat().filter(Boolean),this).unique()},d.prototype.parent=function(){return this.map(t=>t.parentNode)},d.prototype.submit=function(...t){const e=t.find(t=>"string"==typeof t),r=t.find(t=>"number"==typeof t);return this.find(e).trigger("submit",r)},d.prototype.text=function(){const t=this.first();return t?t.textContent:""},d.prototype.toArray=function(){return this.nodes};const y=(t,e=[])=>(e.push(t),"BODY"!==t.tagName?y(t.parentNode,e):e),m=t=>{if(!t)return null;let e=Object.entries(t).filter(([t])=>/^__reactProps/.test(t)).map(t=>t[1]).shift();return e&&Object.keys(e).length?e:(e=Object.entries(t).filter(([t])=>/^__reactEventHandlers/.test(t)).filter(Boolean)[0],e?e[1]:null)},v=(t,e,...r)=>{const o=(t=>{const e={};return t.forEach(t=>{for(let r in t)if(e[r])for(let o in t[r])e[r][o]=t[r][o];else e[r]=t[r]}),e})([{target:e},...r]),n=new Event(t);for(let t in o)Object.defineProperty(n,t,{value:o[t],enumerable:!0,configurable:!0});return n};d.prototype.trigger=function(t,e={}){const o="on"+(t[0].toUpperCase()+t.slice(1));return r.act(async()=>{await Promise.all(this.map(async r=>{const n=y(r);if(this.events&&this.events[t]){const o=n[n.length-1],s=v(t,r,{...e,currentTarget:o});this.events[t].map(t=>t(s))}r[t]?r[t](v(t,r,e)):await Promise.all(n.map(t=>[m(t),t]).filter(t=>t[0]).map(t=>[t[0][o],t[1]]).filter(t=>t[0]).map(([r,o])=>r(v(t,o,e))))}))})},d.prototype.type=async function(t){const e=t.split("").map((e,r)=>t.slice(0,r+1));for(let t of e)await this.change(t),await this.delay(10)},d.prototype.children=function(t="*"){return this.map(e=>[...e.childNodes].filter(e=>e.matches(t)))},d.prototype.closest=function(t="*"){return this.map(e=>e.closest(t))};const g=t=>new Promise(e=>setTimeout(e,t)),$=(t,e)=>{let r=t;for(let[t,o]of e)r=r[t](...o);return r};t.default=d,t.until=t=>"function"==typeof t?(async t=>{let e=await t();for(;!e;)await r.act(async()=>{await g(50),e=await t()});return e})(t):"object"==typeof t?(t=>{const e=[],o=(n,s)=>"then"===s?async o=>{let n;for(;!n;)await r.act(async()=>{await g(50),n=$(t,e),n&&n.nodes&&!n.nodes.length&&(n=!1)});return o(n)}:(...r)=>(e.push([s,r]),new Proxy(t,{get:o}));return new Proxy(t,{get:o})})(t):void 0,Object.defineProperty(t,"__esModule",{value:!0})}));
