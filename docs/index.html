<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1">
    <title>React Test</title>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600|Source+Code+Pro&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.min.css">

    <link
      rel="icon"
      type="image/png"
      href="https://react-test.dev/favicon.png"
    />
    <meta
      name="description"
      content="Test your React components easily with React Test"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://react-test.dev/" />
    <meta name="twitter:title" content="React Test" />
    <meta name="twitter:image" content="http://react-test.dev/hero.png">

    <meta
      name="twitter:description"
      content="Test your React components easily with React Test"
    />
    <meta property="og:title" content="React Test" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://react-test.dev/" />
    <meta
      property="og:image"
      content="http://react-test.dev/hero.png"
    />
    <meta
      property="og:description"
      content="Test your React components easily with React Test"
    />
  </head>
  <body>
    <div class="flex">
      <div>
        <aside>
          <div class="wrap">
            
      <h2><a href="#docs">React Test</a></h2>
      <div class="entry primary">
        <label class="more"></label>
        <a href="#docs">Introduction</a>
      </div>
      <section>
    
        <div class="entry secondary">
          
          <a href="#getting-started">Getting Started</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#basics-of-testing">Basics of testing</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#faq">FAQ</a>
        </div>
      </section>
        <div class="entry primary">
          <label class="more"></label>
          <a href="#library-api">Library API</a>
        </div>
      <section>
        <div class="entry secondary">
          
          <a href="#attr">.attr()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#children">.children()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#click">.click()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#closest">.closest()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#data">.data()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#each">.each()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#filter">.filter()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#find">.find()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#first">.first()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#html">.html()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#is">.is()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#last">.last()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#parent">.parent()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#siblings">.siblings()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#text">.text()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#toarray">.toArray()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#trigger">.trigger()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#type">.type()</a>
        </div>
      </section>
        <div class="entry primary">
          <label class="more"></label>
          <a href="#jest-matchers">Jest Matchers</a>
        </div>
      <section>
        <div class="entry secondary">
          
          <a href="#tobeenabled">.toBeEnabled()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohaveattribute">.toHaveAttribute()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohaveclass">.toHaveClass()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavehtml">.toHaveHtml()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavestyle">.toHaveStyle()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavetext">.toHaveText()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavevalue">.toHaveValue()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tomatchselector">.toMatchSelector()</a>
        </div>
      </section>
        <div class="entry primary">
          <label class="more"></label>
          <a href="#examples">Examples</a>
        </div>
      <section>
        <div class="entry secondary">
          
          <a href="#counter">Counter</a>
        </div>
      
          </div>
        </aside>
      </div>
      <div id="docs">
        <main><h1 id="react-test-npm-install-react-test-test-badge-gzip-size">React Test <a href="https://www.npmjs.com/package/react-test"><img src="https://img.shields.io/badge/npm%20install-react--test-blue.svg" alt="npm install react-test"></a> <a href="https://github.com/franciscop/react-test/actions"><img src="https://github.com/franciscop/react-test/workflows/tests/badge.svg" alt="test badge"></a> <a href="https://github.com/franciscop/react-test/blob/master/index.min.js"><img src="https://img.badgesize.io/franciscop/react-test/master/index.min.js.svg?compression=gzip" alt="gzip size"></a></h1>
<blockquote>
<p>Early package! We are <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md">looking for <strong>beginner Open Source contributors</strong></a>! ‚ù§Ô∏è</p>
</blockquote>
<p>A complete and expressive testing library for React:</p>
<pre><code class="language-js">import $ from &quot;react-test&quot;;

it(&quot;increments when clicked&quot;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  expect(counter.text()).toEqual(&quot;0&quot;);
  await counter.click();
  expect(counter.text()).toEqual(&quot;1&quot;);
});</code></pre>
<p>The <code>react-test</code> syntax follows a similar schema to jQuery so it&#39;s very easy to write expressive tests. The best way to test declarative code is with an imperative library.</p>
<h3 id="getting-started">Getting Started</h3>
<p>First you&#39;ll need a working React project. As an example you can start a working React project with <a href="https://create-react-app.dev/">Create React App</a>:</p>
<pre><code class="language-bash">npx create-react-app my-app
cd my-app</code></pre>
<p>Then install <code>react-test</code>. It is only needed for development:</p>
<pre><code class="language-bash">npm install react-test --save-dev</code></pre>
<p>Finally you can write tests. Let&#39;s say you have <a href="#counter">the <code>&lt;Counter /&gt;</code> component from this example</a> and you want to test it to make sure it works as expected:</p>
<pre><code class="language-js">// src/Counter.test.js
import React from &quot;react&quot;;
import $ from &quot;react-test&quot;;
import Counter from &quot;./Counter&quot;;

describe(&quot;Counter.js&quot;, () =&gt; {
  it(&quot;is initialized to 0&quot;, () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    expect(counter.text()).toBe(&quot;0&quot;);
  });

  it(&quot;can be incremented with a click&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    expect(counter.text()).toBe(&quot;1&quot;);
  });

  it(&quot;can be incremented multiple times&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    await counter.click();
    await counter.click();
    expect(counter.text()).toBe(&quot;3&quot;);
  });
});</code></pre>
<p>Finally run the tests with Jest:</p>
<pre><code class="language-bash">npm run test</code></pre>
<h3 id="basics-of-testing">Basics of testing</h3>
<p>React applications are divided in components, and these components can be tested either individually or in group. Making a component easy to test means that is has few dependencies, which also helps with debugging, documenting, etc.</p>
<p>For example, a plain button can be defined with a callback function, and change colors depending on the <code>primary</code> attribute:</p>
<pre><code class="language-js">// Button.js
import React from &quot;react&quot;;

export default function Button ({ primary, onClick, children }) {
  const background = primary ? &quot;blue&quot; : &quot;gray&quot;;
  return &lt;button onClick={onClick} style={{ background }}&gt;{children}&lt;/button&gt;;
}</code></pre>
<p>Then we can test it with <code>react-test</code> by creating a <code>Button.test.js</code> file and adding some assertions:</p>
<pre><code class="language-js">import React from &quot;react&quot;;
import $ from &quot;react-test&quot;;
import Button from &quot;./Button&quot;;

describe(&quot;Button.js&quot;, () =&gt; {
  it(&quot;has different backgrounds depending on the props&quot;, () =&gt; {
    const $button = $(&lt;Button&gt;Hello&lt;/Button&gt;);
    expect($button).toHaveStyle(&quot;background&quot;, &quot;gray&quot;);
    const $primary = $(&lt;Button primary&gt;Hello&lt;/Button&gt;);
    expect($primary).toHaveStyle(&quot;background&quot;, &quot;blue&quot;);
  });

  it(&quot;can be clicked&quot;, async () =&gt; {
    const fn = jest.fn();
    const $button = $(&lt;Button onClick={fn}&gt;Hello&lt;/Button&gt;);
    expect(fn).not.toBeCalled();
    await $button.click();
    expect(fn).toBeCalled();
  });

  // FAILS
  it(&quot;cannot be clicked if it&#39;s disabled&quot;, async () =&gt; {
    const fn = jest.fn();
    const $button = $(
      &lt;Button onClick={fn} disabled&gt;
        Hello
      &lt;/Button&gt;
    );
    await $button.click();
    expect(fn).not.toBeCalled();   // ERROR!
  });
});</code></pre>
<p>Great! All of our tests are working except for the last one. Now we can go back to our component and fix it:</p>
<pre><code class="language-js">// Button.js
import React from &quot;react&quot;;

export default function Button ({ primary, onClick, children, ...props }) {
  const background = primary ? &quot;blue&quot; : &quot;gray&quot;;
  return (
    &lt;button onClick={onClick} style={{ background }} {...props}&gt;
      {children}
    &lt;/button&gt;
  );
}</code></pre>
<h3 id="faq">FAQ</h3>
<h4 id="is-this-an-official-facebookreact-library">Is this an official Facebook/React library?</h4>
<p>No. This follows the community convention of calling a library related to React as <code>react-NAME</code>. It is made <a href="https://github.com/franciscop/react-test/graphs/contributors">by these contributors</a> without any involvement of Facebook or <a href="https://reactjs.org/">React</a>.</p>
<h4 id="how-can-i-contribute">How can I contribute?</h4>
<p>Thanks! Please read the <a href="./Contributing.md">Contributing Guide</a> where we explain how to get started with the project. Right now there are <a href="https://github.com/franciscop/react-test/labels/good%20first%20issue">some beginner-friendly issues</a> so please feel free to implement those!</p>
<p>I will try to help as much as possible on the PRs.</p>
<h4 id="i-have-a-problem-how-do-i-fix-it">I have a problem, how do I fix it?</h4>
<p>Don&#39;t sweat it, <a href="https://github.com/franciscop/react-test/issues/new">just open an issue</a>. React Test is in an early phase with incomplete documentation so feel free to read the code or ask directly in the issues.</p>
<p>This will change once the library is more stable, there&#39;s more documentation and if the community grows (maybe a chat, or reddit group, or ...).</p>
<h4 id="how-did-you-get-react-test">How did you get <code>react-test</code>?</h4>
<p>I&#39;ve <a href="https://medium.com/server-for-node-js/getting-a-great-npm-name-b0b2b27a0e1b">written a blog post about this</a>, but the gist of it is that the npm package was taken <a href="https://deepstream.io/">by Deepstream.io</a> before but not used. So I asked politely and they allowed me to use it.</p>
<h4 id="how-is-this-different-from-react-testing-library">How is this different from <a href="https://testing-library.com/docs/react-testing-library/intro">React Testing Library</a>?</h4>
<p>This is a difficult one. First, React Testing Library, the documentation and the work from <a href="https://github.com/kentcdodds">@kentcdodds</a> and other collaborators is amazing and I&#39;ve learned a lot from it. The main differences are:</p>
<p>The syntax follows jQuery-style chaining:</p>
<pre><code class="language-js">// react-test
import $ from &quot;react-test&quot;;
test(&quot;Increments when clicked&quot;, async () =&gt; {
  const $counter = $(&lt;Counter /&gt;);
  expect($counter).toHaveText(&quot;0&quot;);
  await $counter.click();
  expect($counter).toHaveText(&quot;1&quot;);
});

// react testing library
import { render, fireEvent } from &quot;@testing-library/react&quot;
test(&quot;Increments when clicked&quot;, () =&gt; {
  const { getByRole, container } = render(&lt;Counter /&gt;);
  expect(container).toHaveTextContent(&quot;0&quot;);
  fireEvent.click(getByRole(&quot;button&quot;));
  expect(container).toHaveTextContent(&quot;1&quot;);
});</code></pre>
<p>React Test is a work in progress, so if you are writing tests for production right now please use one of the better known alternatives.</p>
<h4 id="jquery-syntax-ewwh">jQuery syntax, ewwh</h4>
<p>That&#39;s not really a question! But if for some reason you deeply despise those dollars, perhaps because they remind you of PHP, you can avoid them altogether:</p>
<pre><code class="language-js">import render from &#39;react-test&#39;;

test(&quot;Increments when clicked&quot;, async () =&gt; {
  const counter = render(&lt;Counter /&gt;);
  expect(counter).toHaveText(&quot;0&quot;);
  await counter.click();
  expect(counter).toHaveText(&quot;1&quot;);
});</code></pre>
<p>We obviously love React, but let&#39;s not forget that jQuery also has some great things as well. This library brings some of these nice things to react testing.</p>


<h2 id="library-api">Library API</h2>
<p>The main export is a function which we call <code>$</code> and accepts a React element or fragment:</p>
<pre><code class="language-js">import $ from &#39;react-test&#39;;
const $button = $(&lt;button&gt;Hello world&lt;/button&gt;);
expect($button).toHaveText(&#39;Hello world&#39;);</code></pre>
<p>Since the API is inspired on jQuery we call React Test <code>$</code>, but you can call it <code>render</code> or anything you prefer.</p>
<p>You <em>cannot</em> modify the DOM directly with this library, but you <em>can</em> trigger events that, depending on your React components, might modify the DOM:</p>
<pre><code class="language-js">const Greeter = () =&gt; {
  const [name, setName] = useState();
  return (
    &lt;div&gt;
      Hello {name || &#39;Anonymous&#39;}
      &lt;input onChange={e =&gt; setName(e.target.value)} /&gt;
    &lt;/div&gt;
  );
};

// TODO: .type() is not available yet
it(&#39;can type&#39;, async () =&gt; {
  const $greet = $(&lt;Greeter /&gt;);
  expect($greet.text()).toBe(&#39;Hello Anonymous&#39;);
  await $greet.find(&#39;input&#39;).type(&#39;Francisco&#39;);
  expect($greet.text()).toBe(&#39;Hello Francisco&#39;);
});</code></pre>


<h3 id="attr">.attr()</h3>
<p>Read the attributes of the first matched element:</p>
<pre><code class="language-js">.attr(&quot;name&quot;)</code></pre>
<p>It will read the attributes of the matched elements:</p>
<pre><code class="language-js">const $input = $(&lt;input name=&quot;email&quot; placeholder=&quot;me@example.com&quot; /&gt;);
expect($input.attr(&quot;name&quot;)).toBe(&quot;email&quot;);
expect($input.attr(&quot;placeholder&quot;)).toBe(&quot;me@example.com&quot;);</code></pre>
<p>You can select items with a CSS selector that matches attributes:</p>
<pre><code class="language-js">const $form = $(&lt;LoginForm /&gt;);
const $firstName = $form.find(&#39;[name=&quot;firstname&quot;]&#39;);
expect($firstName).toHaveValue(&#39;&#39;);
await $firstName.type(&#39;John&#39;);
expect($firstName).toHaveValue(&#39;John&#39;);</code></pre>
<p>If you are asserting things, you might prefer <a href="#tohaveattribute"><code>.toHaveAttribute()</code></a> instead of the above:</p>
<pre><code class="language-js">const $input = $(&lt;input name=&quot;email&quot; placeholder=&quot;me@example.com&quot; /&gt;);
expect($input).toHaveAttribute(&quot;name&quot;, &quot;email&quot;);
expect($input).toHaveAttribute(&quot;placeholder&quot;, &quot;me@example.com&quot;);</code></pre>
<h4 id="example-external-links-have-noopener-noreferrer">Example: external links have &quot;noopener noreferrer&quot;</h4>
<p>This security feature makes sure no one can hijack your page&#39;s data:</p>
<pre><code class="language-js">// Find all of the external links first
const $links = $(&lt;Page /&gt;).find(&quot;a[target=_blank]&quot;);

// Make sure they follow the schema
for (let link of $links) {
  expect($(link).attr(&#39;rel&#39;)).toBe(&quot;noopener noreferrer&quot;);
}</code></pre>
<p>When <a href="#tohaveattribute"><code>.toHaveAttribute()</code></a> is available, you can shorten it:</p>
<pre><code class="language-js">// Find all of the external links first
const $links = $(&lt;Page /&gt;).find(&quot;a[target=_blank]&quot;);

// Make sure they *all* have rel=&quot;noopener noreferrer&quot;
expect($links).toHaveAttribute(&#39;rel&#39;, &#39;noopener noreferrer&#39;);</code></pre>


<h3 id="children">.children()</h3>
<p>Get the direct children of all of the elements with an optional filter:</p>
<pre><code class="language-js">.children(filter: string)</code></pre>
<h4>Parameters</h4>
<p><code>filter</code>: A selector expression to match elements against</p>
<h4>Returns</h4>
<p>An instance of <code>react-test</code> with the new children as itst elements.</p>
<h4>Usage</h4>
<p>Since we return an instance of <code>react-test</code>, we have to use <code>.toArray()</code> to convert it to an array so that we can iterate through them.</p>
<pre><code class="language-js">import $ from &#39;react-test&#39;

const List = () =&gt; (
  &lt;ul&gt;
    &lt;li&gt;A&lt;/li&gt;
    &lt;li&gt;B&lt;/li&gt;
  &lt;/ul&gt;
);

// Find the text of each element
const text = $(&lt;List /&gt;)
  .children()
  .toArray()
  .map(item =&gt; $(item).text());

expect(text).toEqual([&quot;A&quot;, &quot;B&quot;]);</code></pre>


<h3 id="click">.click()</h3>
<pre><code class="language-js">.click() -&gt; promise</code></pre>
<p>Simulates a click on all the matched elements. It should be awaited for the side effects to run and the component to re-rendered:</p>
<pre><code class="language-js">it(&#39;clicks the current element&#39;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  expect(counter.text()).toEqual(&quot;0&quot;);
  await counter.click();
  expect(counter.text()).toEqual(&quot;1&quot;);
});</code></pre>
<blockquote>
<p><code>.click()</code> already wraps the call with act(), so there&#39;s no need for you to also wrap it. Just make sure to await for it.</p>
</blockquote>
<h4>Parameters</h4>
<p>None. Any parameters passed will be ignored.</p>
<h4>Returns</h4>
<p>A promise that must be awaited before doing any assertion.</p>
<h4>Examples</h4>
<p>We might want to click a child element and not the top-level one:</p>
<pre><code class="language-js">it(&#39;clicks all buttons inside&#39;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  expect(counter.text()).toEqual(&quot;0&quot;);
  await counter.find(&#39;button&#39;).click();
  expect(counter.text()).toEqual(&quot;1&quot;);
});</code></pre>
<h4>Notes</h4>
<p>It is internally wrapping the call with <a href="#act"><code>act()</code></a>, so there&#39;s no need for you to also wrap it. Just make sure to <code>await</code> for it.</p>


<h3 id="closest">.closest()</h3>
<p>Find the first ancestor that matches the selector for each element:</p>
<pre><code class="language-js">.closest(selector: string)</code></pre>
<h4>Parameters</h4>
<p><code>selector</code>: Expression to match elements against</p>
<h4>Returns</h4>
<p>An instance of <code>react-test</code> with the new elements as nodes</p>
<h4>Usage</h4>
<p>Since we return an instance of <code>react-test</code>, we have to use <code>.toArray()</code> to convert it to an array so that we can iterate through them.</p>
<pre><code class="language-js">import $ from &#39;react-test&#39;

const List = () =&gt; (
  &lt;ul&gt;
    &lt;li&gt;
      &lt;a&gt;Hello&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
      &lt;a&gt;World&lt;/a&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
);

const names = $(&lt;List /&gt;)
  .find(&quot;a&quot;)
  .closest(&quot;li&quot;)
  .toArray()
  .map(node =&gt; node.nodeName);

expect(names).toEqual([&quot;LI&quot;, &quot;LI&quot;]);</code></pre>


<h3 id="data">.data()</h3>
<p>Reads the data-attribute value for the matched element.</p>
<pre><code class="language-js">.data(name);</code></pre>
<h4>Parameters</h4>
<p><code>name</code>: the data-* attribute that we want to get from the first matched element.</p>
<h4>Return</h4>
<p>A string containing the value stored in the targeted data-* attribute.</p>
<h4>Examples</h4>
<p>Find the value of the attribute <code>data-id</code>:</p>
<pre><code class="language-js">const Hello = () =&gt; &lt;div data-id=&quot;0&quot;&gt;Hello World!&lt;/div&gt;;</code></pre>
<pre><code class="language-js">$(&lt;Hello /&gt;)
  .first()
  .data(&quot;id&quot;); //0</code></pre>


<h3 id="each">.each()</h3>
<p>We are looking for <strong>beginner Open Source Contributors</strong> to implement this method:</p>
<ul>
<li>Read <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>the Contributing guide</strong></a> to get started in your machine.</li>
<li>See <a href="https://github.com/franciscop/react-test/issues/6"><strong>the related issue</strong></a> and feel free to ask anything.</li>
<li>We will give you feedback on the implementation.</li>
</ul>


<h3 id="filter">.filter()</h3>
<p>We are looking for <strong>beginner Open Source Contributors</strong> to implement this method:</p>
<ul>
<li>Read <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>the Contributing guide</strong></a> to get started in your machine.</li>
<li>See <a href="https://github.com/franciscop/react-test/issues/7"><strong>the related issue</strong></a> and feel free to ask anything.</li>
<li>We will give you feedback on the implementation.</li>
</ul>


<h3 id="find">.find()</h3>
<p>Get all of the descendants of the nodes with an optional filter</p>
<pre><code class="language-js">.find(filter);</code></pre>
<h4>Parameters</h4>
<p><code>filter</code>: a string containing a selector that nodes must pass or a function that return a boolean. See <a href="#filter">.filter()</a> for a better explanation</p>
<h4>Return</h4>
<p>An instance of React Test with the new children as nodes</p>
<h4>Examples</h4>
<p>Find all the links in the contact page:</p>
<pre><code class="language-js">$(&lt;ContactPage /&gt;).find(&#39;a&#39;);</code></pre>
<p>Get the required fields within a submitting form:</p>
<pre><code>u(&#39;form&#39;).on(&#39;submit&#39;, function(e){
  var required = u(this).find(&#39;[required]&#39;);
});</code></pre>

<h3 id="first">.first()</h3>
<p>Retrieve the first of the matched nodes:</p>
<pre><code class="language-js">.first();</code></pre>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;Bananas&lt;/li&gt;
    &lt;li&gt;Oranges&lt;/li&gt;
  &lt;/ul&gt;
);

const item = $list.find(&#39;li&#39;).first();
expect(item.textContent).toBe(&#39;Bananas&#39;);</code></pre>
<h4>Parameters</h4>
<p>This method doesn&#39;t accept any parameters</p>
<h4>Return</h4>
<p>The first html node or <code>null</code> if there is none.</p>
<h4>Examples</h4>
<p>Retrieve the first element of a list:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;Bananas&lt;/li&gt;
    &lt;li&gt;Oranges&lt;/li&gt;
  &lt;/ul&gt;
);

const item = $list.find(&#39;li&#39;).first();
expect(item.textContent).toBe(&#39;Bananas&#39;);</code></pre>
<h4>Related</h4>
<p><a href="#last">.last()</a> retrieve the last matched element</p>


<h3 id="html">.html()</h3>
<p>Retrieve the html of the elements:</p>
<pre><code class="language-js">.html()</code></pre>


<h3 id="is">.is()</h3>
<p>Check whether any of the nodes matches the selector:</p>
<pre><code class="language-js">.is(&#39;a&#39;)
.is(&#39;.active&#39;)</code></pre>


<h3 id="last">.last()</h3>
<p>Retrieve the last of the matched nodes</p>
<pre><code class="language-js">.last();</code></pre>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;Bananas&lt;/li&gt;
    &lt;li&gt;Oranges&lt;/li&gt;
  &lt;/ul&gt;
);

const item = $list.find(&#39;li&#39;).last();
expect(item.textContent).toBe(&#39;Oranges&#39;);</code></pre>
<h4>Parameters</h4>
<p>This method doesn&#39;t accept any parameters</p>
<h4>Return</h4>
<p>The last html node or <code>null</code> if there is none.</p>
<h4>Examples</h4>
<p>Retrieve the last element of a list:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;Bananas&lt;/li&gt;
    &lt;li&gt;Oranges&lt;/li&gt;
  &lt;/ul&gt;
);

const item = $list.find(&#39;li&#39;).first();
expect(item.textContent).toBe(&#39;Oranges&#39;);</code></pre>
<h4>Related</h4>
<p><a href="#first">.first()</a> retrieve the last matched element</p>


<h3 id="parent">.parent()</h3>
<p>We are looking for <strong>beginner Open Source Contributors</strong> to implement this method:</p>
<ul>
<li>Read <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>the Contributing guide</strong></a> to get started in your machine.</li>
<li>See <a href="https://github.com/franciscop/react-test/issues/9"><strong>the related issue</strong></a> and feel free to ask anything.</li>
<li>We will give you feedback on the implementation.</li>
</ul>


<h3 id="siblings">.siblings()</h3>
<p>We are looking for <strong>beginner Open Source Contributors</strong> to implement this method:</p>
<ul>
<li>Read <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>the Contributing guide</strong></a> to get started in your machine.</li>
<li>See <a href="https://github.com/franciscop/react-test/issues/10"><strong>the related issue</strong></a> and feel free to ask anything.</li>
<li>We will give you feedback on the implementation.</li>
</ul>


<h3 id="text">.text()</h3>
<p>Retrieve the textContent of the elements:</p>
<pre><code class="language-js">.text()</code></pre>


<h3 id="toarray">.toArray()</h3>
<p>Get all of the currently matched nodes as a plain array:</p>
<pre><code class="language-js">const List = () =&gt; (
  &lt;ul&gt;
    &lt;li&gt;A&lt;/li&gt;
    &lt;li&gt;B&lt;/li&gt;
  &lt;/ul&gt;
);

// Find the text of each node
const text = $(&lt;List /&gt;)
  .children()
  .toArray()
  .map(item =&gt; $(item).text());

expect(text).toEqual([&quot;A&quot;, &quot;B&quot;]);</code></pre>


<h3 id="trigger">.trigger()</h3>
<p>Trigger an event. Right now it only accepts &#39;click&#39;.</p>
<pre><code class="language-js">.trigger()</code></pre>


<h3 id="type">.type()</h3>
<p>We are looking for <strong>beginner Open Source Contributors</strong> to implement this method.</p>


<h2 id="jest-matchers">Jest Matchers</h2>
<p>These helpers are automatically available if you are using <a href="https://jestjs.io/"><strong>jest</strong></a>:</p>
<pre><code class="language-js">const $button = $(&lt;button className=&quot;primary&quot;&gt;Click me!&lt;/button&gt;);

expect($button).toMatchSelector(&#39;button&#39;);
expect($button).toHaveClass(&#39;primary&#39;);
expect($button).toHaveText(&#39;Click me!&#39;);</code></pre>
<p>This will give much more meaningful errors when failing compared to doing things manually:</p>
<pre><code class="language-js">// With the Jest Helpers:
expect($button).toHaveClass(&#39;secondary&#39;);
// Expected &lt;button class=&quot;primary&quot;&gt; to include class &quot;secondary&quot;

// Without the helpers:
expect($button.attr(&#39;class&#39;)).toBe(&#39;secondary&#39;);
// Expected &quot;primary&quot; to be &quot;secondary&quot;</code></pre>
<p>These <code>expect()</code> matchers work with either a single element or multiple elements, but it&#39;s important that you understand the differences in behavior.</p>
<p>When there&#39;s a single element in the expect(), then the <code>.not</code> Jest negation makes them a perfect opposite:</p>
<pre><code class="language-js">// Make sure the button has the class &quot;primary&quot;
expect($button).toHaveClass(&#39;primary&#39;);

// Make sure the button does NOT have the class &quot;secondary&quot;
expect($button).not.toHaveClass(&#39;secondary&#39;);</code></pre>
<p>However when there are <strong>multiple</strong> elements in the <code>expect()</code>, the test follows the English meaning instead of plainly negating the affirmative statement:</p>
<pre><code class="language-js">// All of them have this class
expect($list.find(&#39;li&#39;)).toHaveClass(&#39;item&#39;);

// NONE of the items have the given class
expect($list.find(&#39;li&#39;)).not.toHaveClass(&#39;hidden&#39;);</code></pre>
<p>React Test makes Jest&#39;s <code>not</code> behave as &quot;NONE&quot; instead of <del>not all</del>, since we found most of the times this is the desired behavior.</p>


<h3 id="tobeenabled">.toBeEnabled()</h3>
<p>Check whether none of the matched elements have the attribute &quot;disabled&quot;:</p>
<pre><code class="language-js">const $button = $(&lt;button /&gt;);
const $input = $(&lt;input disabled /&gt;);

expect($button).toBeEnabled();
expect($input).not.toBeEnabled();</code></pre>
<p>For a list of items, it checks whether <strong>all of them are enabled</strong> or <strong>all of them are disabled</strong>:</p>
<pre><code class="language-js">const $form = $(
  &lt;form&gt;
    &lt;input id=&quot;banana&quot; /&gt;
    &lt;input id=&quot;orange&quot; /&gt;

    &lt;textarea id=&quot;apple&quot; /&gt;
    &lt;textarea id=&quot;pear&quot; disabled /&gt;

    &lt;button id=&quot;mango&quot; disabled /&gt;
    &lt;button id=&quot;coconut&quot; disabled /&gt;
  &lt;/form&gt;
);

// All of them are enabled
expect($form.find(&quot;input&quot;)).toBeEnabled();

// All of them are disabled
expect($form.find(&quot;button&quot;)).not.toBeEnabled();</code></pre>
<p>For the same React code, these <strong>do not pass</strong>:</p>
<pre><code class="language-js">// ERROR! Only one of them is enabled
expect($form.find(&quot;textarea&quot;)).toBeEnabled();
// Expected &lt;textarea id=&quot;pear&quot; disabled=&quot;&quot;&gt; not to include the attribute &quot;disabled&quot;

// ERROR! At least one of them is enabled
expect($form.find(&quot;textarea&quot;)).not.toBeEnabled();
// Expected &lt;textarea id=&quot;apple&quot;&gt; to include the attribute &quot;disabled&quot;</code></pre>


<h3 id="tohaveattribute">.toHaveAttribute()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ‚ù§Ô∏è</p>


<h3 id="tohaveclass">.toHaveClass()</h3>
<p>Check whether all of the matched elements have the expected class name:</p>
<pre><code class="language-js">const $button = $(
  &lt;button className=&quot;primary&quot;&gt;
    Click me
  &lt;/button&gt;
);

expect($button).toHaveClass(&#39;primary&#39;);
expect($button).not.toHaveClass(&#39;secondary&#39;);</code></pre>
<p>For list of items, it checks whether <strong>all of them match</strong> or <strong>none of them match</strong>:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li className=&quot;item main&quot;&gt;a&lt;/li&gt;
    &lt;li className=&quot;item secondary&quot;&gt;b&lt;/li&gt;
  &lt;/ul&gt;
);

// All of them have the class item
expect($list.find(&#39;li&#39;)).toHaveClass(&#39;item&#39;);

// None of them has the class &quot;primary&quot;
expect($list.find(&#39;li&#39;)).not.toHaveClass(&#39;primary&#39;);</code></pre>
<p>For the same React code, these <strong>do not pass</strong>:</p>
<pre><code class="language-js">// ERROR! Only one of them has the class &quot;main&quot;
expect($list.find(&#39;li&#39;)).toHaveClass(&#39;main&#39;);
// Expected &lt;li class=&quot;item secondary&quot;&gt; to include class &quot;main&quot;

// ERROR! At least one of them has the class &quot;main&quot;
expect($list.find(&#39;li&#39;)).not.toHaveClass(&#39;main&#39;);
// Expected &lt;li class=&quot;item main&quot;&gt; not to include class &quot;main&quot;</code></pre>


<h3 id="tohavehtml">.toHaveHtml()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ‚ù§Ô∏è</p>


<h3 id="tohavestyle">.toHaveStyle()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ‚ù§Ô∏è</p>


<h3 id="tohavetext">.toHaveText()</h3>
<p>Check whether the matched elements all contain the text (<a href="#counter">see the Counter example</a>):</p>
<pre><code class="language-js">it(&#39;can be clicked&#39;, async () =&gt; {
  const $counter = &lt;Counter /&gt;;
  expect($counter).toHaveText(&#39;0&#39;);
  await $counter.click();
  expect($counter).toHaveText(&#39;1&#39;);
});</code></pre>
<p>It normalizes whitespace so that multiple spaces or enters are collapsed into a single one:</p>
<pre><code class="language-js">it(&#39;normalizes whitespace&#39;, () =&gt; {
  const $text = $(
    &lt;div&gt;
      Hello &lt;br /&gt; world!
    &lt;/div&gt;
  );
  expect($text).toHaveText(&#39;Hello world!&#39;);
});</code></pre>
<p>For list of items, it checks whether <strong>all of them match</strong> or <strong>none of them match</strong>:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;apple&lt;/li&gt;
    &lt;li&gt;apple&lt;/li&gt;
  &lt;/ul&gt;
);
// Passes; all of them have the given text
expect($list.find(&#39;li&#39;)).toHaveText(&#39;apple&#39;);

// Passes; none of them has the given text
expect($list.find(&#39;li&#39;)).not.toHaveText(&#39;banana&#39;);</code></pre>
<p>These examples <strong>do not pass</strong>:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li&gt;apple&lt;/li&gt;
    &lt;li&gt;banana&lt;/li&gt;
  &lt;/ul&gt;
);

// ERROR! Because only one of them has the text &quot;apple&quot;
expect($list.find(&#39;li&#39;)).toHaveText(&#39;apple&#39;);
// Expected &lt;li&gt; to have text &quot;apple&quot; but it received &quot;banana&quot;

// ERROR! Because at least one of them has the text &quot;apple&quot;
expect($list.find(&#39;li&#39;)).not.toHaveText(&#39;apple&#39;);
// Expected &lt;li&gt; not to have the text &quot;apple&quot;</code></pre>


<h3 id="tohavevalue">.toHaveValue()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ‚ù§Ô∏è</p>


<h3 id="tomatchselector">.toMatchSelector()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ‚ù§Ô∏è</p>


<h2 id="examples">Examples</h2>
<p>These examples define some component or components, and then explain how to test them with <code>react-test</code>. The idea is to have a variety of examples so that some of them will be similar to your code.</p>
<p>These are the examples we want to have:</p>
<ul>
<li><code>&lt;Counter /&gt;</code>: increments when you click it.</li>
<li><code>&lt;Todo /&gt;</code>: can add items with React&#39;s <code>useState()</code>.</li>
<li><code>&lt;Subscribe /&gt;</code>: to see how to test API calls.</li>
<li><code>&lt;Portfolio /&gt;</code>: with React Router to see how routing works.</li>
<li>Redux example: to see the possibilities of integration with Redux. Use <a href="https://redux.js.org/introduction/examples">one from the official docs</a>.</li>
</ul>


<h3 id="counter">Counter</h3>
<p>Let&#39;s say that we have a simple counter. Every time you click it, its value increments by one:</p>
<pre><code class="language-js">// Counter.js
import React, { useState } from &quot;react&quot;;

export default function Counter () {
  const [counter, setCounter] = useState(0);
  const increment = () =&gt; setCounter(counter + 1);
  return &lt;button onClick={increment}&gt;{counter}&lt;/button&gt;;
};</code></pre>
<p>All of our tests must be wrapped by <code>describe()</code> and need to import at least <code>React</code>, <code>react-test</code> and the component that we want to test:</p>
<pre><code class="language-js">// Counter.test.js
import React from &quot;react&quot;;
import $ from &quot;react-test&quot;;
import Counter from &quot;./Counter&quot;;

describe(&quot;Counter.js&quot;, () =&gt; {

  // Write your tests here
  // All of the examples below should go here

});</code></pre>
<p>First, we might want to check the initial value of this counter. We will render it and use <a href="#tohavetext"><code>.toHaveText()</code></a> to check the plain-text content. Please note how this is text <code>&quot;0&quot;</code> and not a number <del><code>0</code></del>:</p>
<pre><code class="language-js">it(&quot;starts with 0&quot;, () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  expect(counter).toHaveText(&quot;0&quot;);
});</code></pre>
<p>Great, this passes our test.</p>
<p>Now let&#39;s try clicking it once. Any user action <strong>must</strong> be treated as asynchronous, so we create a new <code>async</code> test for this.</p>
<p>We are also going to be using <a href="#click">the <code>.click()</code> method</a> and awaiting for this click to be resolved:</p>
<pre><code class="language-js">it(&quot;increments when clicked&quot;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  await counter.click();
  expect(counter).toHaveText(&quot;1&quot;);
});</code></pre>
<p>Let&#39;s repeat this with multiple clicks as well:</p>
<pre><code class="language-js">it(&quot;can be incremented multiple times&quot;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  await counter.click();
  await counter.click();
  await counter.click();
  expect(counter).toHaveText(&quot;3&quot;);
});</code></pre>
<p>This component is working; the user clicks it, the value increments. That&#39;s awesome and most of the cases we would be done üéâ</p>
<p>But I also want to make sure there&#39;s not an issue where the state is shared. While in here the implementation is trivial, but in some cases it&#39;s not. So let&#39;s create two components and only <em>one</em> of them:</p>
<pre><code class="language-js">it(&quot;remains independent of other components&quot;, async () =&gt; {
  const counter1 = $(&lt;Counter /&gt;);
  const counter2 = $(&lt;Counter /&gt;);
  await counter2.click();
  expect(counter1).toHaveText(&quot;0&quot;);
  expect(counter2).toHaveText(&quot;1&quot;);
});</code></pre>
<p>These also remain independent, great! I am sure this simple counter is working as expected. Let&#39;s see it all put together:</p>
<pre><code class="language-js">// Counter.test.js
import React from &quot;react&quot;;
import $ from &quot;react-test&quot;;
import Counter from &quot;./Counter&quot;;

describe(&quot;Counter.js&quot;, () =&gt; {
  it(&quot;starts with 0&quot;, () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    expect(counter).toHaveText(&quot;0&quot;);
  });

  it(&quot;increments when clicked&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    expect(counter).toHaveText(&quot;1&quot;);
  });

  it(&quot;can be incremented multiple times&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    await counter.click();
    await counter.click();
    expect(counter).toHaveText(&quot;3&quot;);
  });

  it(&quot;remains independent of other components&quot;, async () =&gt; {
    const counter1 = $(&lt;Counter /&gt;);
    const counter2 = $(&lt;Counter /&gt;);
    await counter2.click();
    expect(counter1).toHaveText(&quot;0&quot;);
    expect(counter2).toHaveText(&quot;1&quot;);
  });
});</code></pre>
</main>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/umbrellajs"></script>
    <script src="/prism.min.js"></script>
    <script src="/script.js"></script>
  </body>
</html>
